# 2040 수 게임

게임에서 승리하려면 내가 선택한 수들의 합이 상대가 선택한 수들의 합보다 작아야 합니다. 따라서, 승리에 영향을 주는 변수는 내가 선택한 수들의 합과 상대가 선택한 수들의 합의 차로, 음수가 가능하다면 나의 승리이고, 잘해도 0이라면 비기며, 양수면 패배하게 됩니다. 이 차가 작을수록 다음 차례에도 내가 이길 가능성이 높기 때문에, 차를 최소로 유지해야 합니다.

내가 $i$번째 차례에서 얻을 수 있는 최소 차를 $d_i$라고 합시다. $d_{i+1}$에 도달하기 위해서 원하는 만큼의 $a_j$를 고를 수 있으므로,

$$ d_{i+1} = \min_{0 \le j \le i} \left( \sum_{k = j+1}^{i+1} a_k - d_j \right) $$

$n \le 3000$이므로 $a_k$의 합을 매번 직접 구하면 시간이 부족합니다. 누적 합을 이용해서 $\mathcal{O}(1)$로 최적화할 수 있습니다.